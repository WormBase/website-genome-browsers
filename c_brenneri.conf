[GENERAL]
description = C. brenneri (current release)
database    = c_brenneri
			
html1 = sub { return CGI::h1(CGI::i('Caenorhabditis brenneri') . ' build 4.0'); }

default features = PRIMARY_GENE_TRACK AUGUSTUS mGENE FGENESH

landmark features = supercontig region:Genomic_canonical region:link

# examples to show in the introduction
examples = Cbre_contig200 Cbre_contig200:10000..30000 CBN30158 CBN301* npr-16 egl*

# "automatic" classes to try when an unqualified identifier is given
automatic classes = Transcript Gene Protein Component CDS Sequence
	   
# Override the [DETAIL SELECT MENU] from detail_select_menu.conf
#include includes/detail_menu-default.conf

# Plugin configuration
#include includes/plugin.conf

###################################
# Global track defaults.
# Can be overridden by any track
###################################
[TRACK DEFAULTS]
#include includes/track_defaults.conf


#################################
# database definitions
#################################

[c_brenneri:database]
db_adaptor  = Bio::DB::GFF
db_args     = -dsn DBI:mysql:c_brenneri;user=nobody;host=localhost
passwd      =
# NOTE: aggregators are processed in the order in which they appear, so
# we would like the full transcript to take precedence over RNAs.
aggregators = clone 
     	      alignment 
	      waba_alignment 
	      full_transcript{coding_exon,five_prime_UTR,three_prime_UTR/Transcript}   
	      full_transcript_non_coding{exon,five_prime_UTR,three_prime_UTR/Transcript}
    	      ngasp_gene{CDS,three_prime_UTR,five_prime_UTR}
    	      transposon{coding_exon,five_prime_UTR,three_prime_UTR}
	      processed_transcript{coding_exon,five_prime_UTR,three_prime_UTR/CDS}
	      pseudo{exon:Pseudogene/Pseudogene}
	      RNA{exon/Transcript}
	      coding{coding_exon}
    	      motif_span{motif_segment/Motif}
    	      rnai{RNAi_reagent}
	      ost{expressed_sequence_match}
	      sage_tag{SAGE_tag}
	      wormbase_cds{coding_exon,CDS,five_prime_UTR,three_prime_UTR/CDS}
search options = default +wildcard -stem +fulltext +autocomplete

##################################################################################
# the remainder of the sections configure particular tracks to show
##################################################################################

###################################
# Gene Models
###################################
# [PRIMARY_GENE_TRACK]
#include includes/gene_models-tier2.track

# [CODING_TRANSCRIPTS]
#include includes/coding_transcripts.track

# [CDS]
#include includes/cds.track

# [DNA]
#include includes/dna.track


# [HISTORICAL_GENES]
#include includes/historical_genes.track





######################################
#  Alignments / Comparative Genomics
######################################
# ESTs for this species. Not available for all species.
[SPECIES_ESTS]
feature       = alignment:BLAT_brenneri_est
category      = Gene Models
key           = C. brenneri ESTs (BLAT)
glyph         = segments
bgcolor       = limegreen
fgcolor       = black
height        = 4
connector     = solid
link          = http://www.ncbi.nlm.nih.gov/htbin-post/Entrez/query?db=n&form=1&field=Sequence+ID&term=$name
citation      = These are C. brenneri ESTs that have been aligned to the C. brenneri genome using BLAT.


## BLAT C. elegans EST Best and BLAT EST other aligned to this species.
## Note that the feature is not consistently named across species
## nor are the available for all
[ELEGANS_ESTS_BEST]
feature       = alignment:BLAT_EST_BEST
glyph         = segments
category      = Comparative Genomics
key           = C. elegans ESTs (BLAT; best)
citation      = These are C. elegans ESTs that have been aligned to 
	        the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].
                 The 5' and 3' reads of a single EST are connected by a dashed line. 
bgcolor       = yellow
fgcolor       = black
height        = 4
connector     = solid
draw_target    = 1
show_mismatch  = 1
ragged_start   = 1
group_pattern = /\.[35]$/

[ELEGANS_ESTS_OTHER]
feature        = alignment:BLAT_EST_OTHER
glyph          = segments
category       = Comparative Genomics
key            = C. elegans ESTs (BLAT; other)
draw_target    = 1
show_mismatch  = 1
ragged_start   = 1
bgcolor        = limegreen
fgcolor        = black
connector      = solid
height         = 5
group_pattern = /\.[35]$/
citation       = These are C. elegans expressed sequence tags (ESTs), that have been
                 aligned to the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].
                 The 5' and 3' reads of a single EST are connected by a dashed line.

# C. elegans mRNAs aligned by blat to species. Note: Different features in use.
[ELEGANS_MRNAS_BEST]
feature       = alignment:BLAT_mRNA_BEST
glyph         = segments
key           = C. elegans mRNAs (BLAT; best)
category      = Comparative Genomics
label         = sub {
                my $f = shift;
                my $label = ($f->source =~ /BLAT_mRNA/) ? 'mRNA' : 'ncRNA';
                my $name = $f->name;
                return "$label: $name";
        }
link          = http://www.ncbi.nlm.nih.gov/htbin-post/Entrez/query?db=n&form=1&field=Sequence+ID&term=$name
citation      = These are C. elegans full length cDNAs and ncRNAs that have been aligned to
                the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].   
draw_target   = 1
show_mismach  = 1
ragged_start  = 1
bgcolor       = sub {   
                my $f = shift;
                return 'yellow' if ($f->source =~ /BLAT_mRNA/);
                return 'grey';
               }
fgcolor       = black
height        = 5
connector     = solid

# NOT AVAILABLE FOR ALL SPECIES
[ELEGANS_MRNAS_OTHER]
feature       = cDNA_match:BLAT_mRNA_OTHER
glyph         = segments
category      = Comparative Genomics
key           = C. elegans mRNAs (BLAT; other)
label         = sub {
                my $f = shift;
                my $label = ($f->source =~ /BLAT_mRNA/) ? 'mRNA' : 'ncRNA';
                my $name = $f->name;
                return "$label: $name";
        }
draw_target   = 1
show_mismach  = 1
ragged_start  = 1
bgcolor       = sub {
                my $f = shift;
                return 'yellow' if ($f->source =~ /BLAT_mRNA/);
                return 'grey';
               }
fgcolor       = black
height        = 5
connector     = solid
citation      = These are C. elegans full length cDNAs and ncRNAs that have been aligned to
                the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].

# NOT AVAILABLE FOR ALL SPECIES
[NEMATODE_ESTS]
feature       = alignment:BLAT_NEMATODE alignment:BLAT_NEMBASE
glyph         = segments
category      = Comparative Genomics
bgcolor       = lightblue
fgcolor       = black
height        = 5
connector     = solid
key           = Other Nematode ESTs
citation      = These are non-C. elegans nematode ESTs that have been aligned to
                 the C. brenneri genome using Jim Kent's BLATX program [<a 
                 href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>]. 
                 Analysis provided by Anthony Rogers. 

# NOT AVAILABLE FOR ALL SPECIES
[CAENORHABDITIS_ESTS_BEST]
feature        = alignment:BLAT_Caen_EST_BEST
glyph          = segments
key            = Caenorhabditis ESTs (BLAT; best)
category       = Comparative Genomics
draw_target    = 1
show_mismatch  = 1
ragged_start   = 1
bgcolor        = limegreen
fgcolor        = black
connector      = solid
height         = 5
group_pattern = /\.[35]$/
citation       = These are <i>Caenorhabditis</i> expressed sequence tags (ESTs), that have been
                 aligned to the C. remanei genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].
                 The 5' and 3' reads of a single EST are connected by a dashed line.

# NOT AVAILABLE FOR ALL SPECIES
[CAENORHABDITIS_ESTS_OTHER]
feature        = alignment:BLAT_Caen_EST_OTHER
glyph          = segments
category       = Comparative Genomics
key            = Caenorhabditis ESTs (BLAT; other)
draw_target    = 1
show_mismatch  = 1
ragged_start   = 1
bgcolor        = limegreen
fgcolor        = black
connector      = solid
height         = 5
group_pattern = /\.[35]$/
citation       = These are <i>Caenorhabditis</i> expressed sequence tags (ESTs), that have been
                 aligned to the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].
                 The 5' and 3' reads of a single EST are connected by a dashed line.

# NOT AVAILABLE FOR ALL SPECIES
[CAENORHABDITIS_MRNAS_BEST]
feature       = alignment:BLAT_Caen_mRNA_BEST
glyph         = segments
key           = Caenorhabditis RNAs (BLAT; best)
category      = Comparative Genomics
label         = sub {
                my $f = shift;
                my $label = ($f->source =~ /BLAT_mRNA/) ? 'mRNA' : 'ncRNA';
                my $name = $f->name;
                return "$label: $name";
        }
draw_target   = 1
show_mismach  = 1
ragged_start  = 1
bgcolor       = sub {
                my $f = shift;
                return 'yellow' if ($f->source =~ /BLAT_mRNA/);
                return 'grey';
               }
fgcolor       = black
height        = 5
connector     = solid
citation      = These are <i>Caenorhabditis</i> full length cDNAs and ncRNAs that have been aligned to
                the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].

# NOT AVAILABLE FOR ALL SPECIES
[CAENORHABDITIS_MRNAS_OTHER]
feature       = alignment:BLAT_Caen_mRNA_OTHER
key           = Caenorhabditis RNAs (BLAT; other)
category      = Comparative Genomics
glyph         = segments
label         = sub {
                my $f = shift;
                my $label = ($f->source =~ /BLAT_mRNA/) ? 'mRNA' : 'ncRNA';
                my $name = $f->name;
                return "$label: $name";
        }
draw_target   = 1
show_mismach  = 1
ragged_start  = 1
bgcolor       = sub {
                my $f = shift;
                return 'yellow' if ($f->source =~ /BLAT_mRNA/);
                return 'grey';
               }
fgcolor       = black
height        = 5
connector     = solid
citation      = These are <i>C. elegans</i> full length cDNAs and ncRNAs that have been aligned to
                the C. brenneri genome using Jim Kent's BLAT program [<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">
                 http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].

# NOT AVAILABLE FOR ALL SPECIES
[ELEGANS_OSTS]
feature       = alignment:BLAT_elegans_ost
key           = C. elegans OSTs (BLAT)
category      = Comparative Genomics
glyph         = segments
bgcolor       = red
fgcolor       = red
height        = 4
connector     = solid
link          = http://www.ncbi.nlm.nih.gov/htbin-post/Entrez/query?db=n&form=1&field=Sequence+ID&term=$name
citation      = These are C. elegans OSTs (Orfeome Sequence Tags) that have been aligned to
                the C. brenneri genome using BLAT.

# NOT AVAILABLE FOR ALL SPECIES
[BLASTX]
feature       = protein_match:wublastx
key           = Protein Hits (BLASTX)
category      = Comparative Genomics
glyph         = segments
bgcolor       = sub { $_[0]->name =~ /^BP:/ ? 'blue' : 'orange' }
fgcolor       = black
height        = 5
citation =  These are WUBLASTX (nucleotide to protein, via six-frame
        translation) similarity hits from the genomes of yeast, fly, worm and human and subsets of 
        Swissprot and TREMBL.  Analysis provided by Anthony Rogers.

# NOT AVAILABLE FOR ALL SPECIES
[WABA]
feature           = waba_alignment
key               = Nucleotide alignments to C. elegans (WABA)
category          = Comparative Genomics
bgcolor           = blue
glyph             = heterogeneous_segments
waba_weak_color   = gainsboro
waba_strong_color = cornflowerblue
waba_coding_color = blue
fgcolor           = black
height            = 6
connector         = dashed
box_subparts      = 0
label             = sub {	
			my $feature = shift;
			my $ref   = $feature->target;
			my $start = $feature->target->start;
			my $stop  = $feature->target->end;
	       		my $first = ($feature->segments)[0];
                	my $strand = defined $first && $first->start>$first->end ? -1 : +1;
			($start,$stop) = ($stop,$start) if $strand < 0;
	        	"$ref:$start..$stop";
		    }
citation      = These are segments of the C. brenneri rough draft sequence that have been
		aligned to the C. elegans genome using Jim Kent's WABA program [Kent & Zahler, 
		Genome Res 10:1115-25 (2000)].
		WABA distinguishes between low similarity regions (light blue), high-similarity regions
		(medium blue), and regions of high similarity that have the characteristic wobble-base
		mismatch of coding regions (dark blue).  Also see "Briggsae Alignments (BLAST)".



################################################
# ASSEMBLY: BRIGGSAE-SPECIFIC
################################################
#[ULTRACONTIGS:overview]
#feature       = Sequence:Genomic_canonical
#key           = cb25.agp8 Ultracontigs
#strand_arrow  = 1
#height        = 4
#bgcolor       = white
#fgcolor       = black
#bump          = 1
#label         = 1
#citation      = The CB3 assembly is composed of ultracontigs from the previous genome build (cb25.agp8)
#	        ordered along the chromosome based on SNP recombination data.  See
#                <a href="ftp://ftp.wormbase.org/pub/wormbase/genomes/brenneri/README"> the CB3 build information</a>
#                for details.
#
#[ULTRACONTIGS]
#feature       = Sequence:Genomic_canonical
#key           = Ultracontigs
#category      = Assembly
#glyph         = arrow
#height        = 7
#tick          = 1
#relative_coords = 1
#fgcolor       = black
#bump          = 1
#label         = 1
#citation      = The CB3 assembly is composed of ultracontigs from the previous genome build (cb25.agp8)
#                ordered along the chromosome based on SNP recombination data.  See
#                <a href="ftp://ftp.wormbase.org/pub/wormbase/genomes/brenneri/README"> the CB3 build information</a>
#                for details.
#
#[BAC_END]
#feature       = alignment:BLAT_BAC_END
#key           = BAC end reads
#category      = Assembly
#glyph         = segments
#bgcolor       = white
#fgcolor       = black
#height        = 6
#connector     = dashed
#feature       = alignment:BLAT_BAC_END
#label         = 1
#bump          = 1
#link          = sub { return undef; }
#citation      = BAC end-reads aligned to the cb25 ultracontigs using BLAT. 
#
# I am not sure why we would want these
#[GAP]
#feature       = Sequence:.
#glyph         = generic
#key           = Ultracontig gaps
#category      = Assembly
#bgcolor       = black
#fgcolor       = black
#label         = 0
#bump          = 1
#link          = sub { return undef; }
#
#[SCTG]
#feature       = Sequence:contig
#key           = Supercontigs
#category      = Assembly
#glyph         = arrow
#height        = 7
#tick          = 2
#relative_coords = 1
#fgcolor       = black
#bump          = 1
#label         = 1
#citation      = The cb25.agp8 ultracontigs are composed of supercontigs, assembled based on physical
#                mapping data.  This track shows the order and orientation of the supercontigs within 
#	        the cb3 chromosomes
#
#################################################
## VARIATION: BRIGGSAE-SPECIFIC
#################################################
#[SNP]
#feature       = polymorphism rflp_polymorphism
#category      = Variation
#key           = Predicted SNPs
#bgcolor       = sub { shift->method eq 'polymorphism' ? 'red' : 'blue'; }
#fgcolor       = sub { shift->method eq 'polymorphism' ? 'red' : 'blue'; }
#label         = 1
#font2color    = blue
#description   = sub { return shift->method eq 'polymorphism' ? "SNP" : "SNP/RFLP"; }
#bump          = 1
#glyph         = triangle
#point         = 1
#orient        = N
#height        = 6
#citations     = Predicted SNPs and RFLPs between the AF16 (canonical) and HK104 strains identified  by the
#	<a href="http://snp.wustl.edu/snp-research/c-brenneri/snp-discovery.html">C. briggsae genetic map consortium</a>. SNPs that generate restriction fragment length
#	polymorphisms (RFLPs) are indicated in red. In silico RFLP analysis by T. Harris (harris@cshl.edu).


################################################
# NGASP GENES
################################################
[AUGUSTUS]
feature      = ngasp_gene:AUGUSTUS
key          = AUGUSTUS gene predictions
category     = nGASP Genes
label        = 1
description  = 1
glyph        = wormbase_transcript
title        = AUGUSTUS gene $name
citation     = AUGUSTUS gene set from the nGASP competition.  Courtesy of Mario Stanke.
               Gene models are available for download at ftp://ftp.wormbase.org/pub/wormbase/nGASP/final_gene_predictions/predictions

[mGENE]
feature      = ngasp_gene:mGENE
key          = mGENE gene predictions
category     = nGASP Genes
label        = 1
description  = 1
glyph        = wormbase_transcript
title        = mGENE gene $name
citation     = mGENE gene set from the nGASP competition.  Courtesy of Gabriele Schweikert and Gunnar Raetsch.
               Gene models are available for download at ftp://ftp.wormbase.org/pub/wormbase/nGASP/final_gene_predictions/predictions

[FGENESH]
feature      = ngasp_gene:FGENESH
key          = FGENESH gene predictions
category     = nGASP Genes
label        = 1
description  = 1
glyph        = wormbase_transcript
title        = FGENESH++ gene $name
citation     = FGENESH++ gene set from the nGASP competition.  Courtesy of Darin Blasiar.
               Gene models are available for download at ftp://ftp.wormbase.org/pub/wormbase/nGASP/final_gene_predictions/predictions

[JIGSAW]
feature      = ngasp_gene:nGASP
key          = JIGSAW combined genes
category     = nGASP Genes
label        = 1
description  = 1
glyph        = wormbase_transcript
title        = JIGSAW gene $name
citation     = JIGSAW gene set from the nGASP competition.  This is the combined gene set for AUGUSTUS
               mGENE and FGENESH++.  Courtesy of Darin Blasiar.
               Gene models are available for download at ftp://ftp.wormbase.org/pub/wormbase/nGASP/final_gene_predictions/predictions


#include includes/standard_analysis_tracks.conf
#include includes/tierII.conf

